<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Carbon Footprint Report</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">
        <h2>üåç Weekly Carbon Footprint Report</h2>
        <p>Your total carbon footprint for the week:</p>

        <h3 id="weeklyTotal"></h3>
        <h4 id="comparison"></h4>

        <h3>üå± Tips to Reduce Your Carbon Footprint:</h3>
        <ul id="tips"></ul>

        <a href="monday.html" class="next-button">Start a New Week</a>
    </div>

    <script>
        function calculateWeeklyTotal() {
            let weeklyTotal = 0;
            let dailyFootprints = [];

            // Retrieve data from localStorage for each day
            const days = ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"];
            days.forEach(day => {
                const footprint = localStorage.getItem(day);
                if (footprint) {
                    let value = parseFloat(footprint);
                    dailyFootprints.push(value);
                    weeklyTotal += value;
                }
            });

            // Display total weekly carbon footprint
            document.getElementById("weeklyTotal").innerHTML = `<b>${weeklyTotal.toFixed(2)} kg CO2</b>`;

            // Compare to the average carbon footprint (e.g., ~100 kg CO2 per week)
            const averageCarbonFootprint = 100; // Example value, can be adjusted
            let comparisonText = weeklyTotal > averageCarbonFootprint
                ? "‚ö†Ô∏è Your carbon footprint is higher than the average person. Try reducing it!"
                : "‚úÖ Great job! Your carbon footprint is lower than the average person.";

            document.getElementById("comparison").innerHTML = comparisonText;

            // Generate reduction tips based on user input
            generateReductionTips(dailyFootprints);
        }

        function generateReductionTips(footprints) {
            let tips = [];

            if (footprints.some(f => f > 15)) {
                tips.push("üö≤ Consider using public transport, biking, or walking more.");
            }
            if (footprints.some(f => f > 20)) {
                tips.push("üí° Reduce electricity usage by turning off lights and using energy-efficient appliances.");
            }
            if (footprints.some(f => f > 10)) {
                tips.push("üçÉ Try eating more plant-based meals to lower your diet's carbon impact.");
            }
            if (footprints.some(f => f > 5)) {
                tips.push("‚ôªÔ∏è Reduce plastic waste by using reusable water bottles and bags.");

            }

            // Display tips
            const tipsList = document.getElementById("tips");
            tips.forEach(tip => {
                let li = document.createElement("li");
                li.innerText = tip;
                tipsList.appendChild(li);
            });
        }

        // Call function when the page loads
        window.onload = calculateWeeklyTotal;
    </script>
</body>
</html>
