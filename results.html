<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Carbon Footprint Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e8f5e9;
            text-align: center;
            padding: 20px;
        }
        .container {
            max-width: 500px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            margin: auto;
        }
        h2 {
            color: #2e7d32;
        }
        .result {
            font-size: 24px;
            font-weight: bold;
        }
        .tips {
            text-align: left;
            margin-top: 20px;
        }
        .tips h3 {
            font-size: 18px;
            color: #2e7d32;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        ul li {
            background: #f1f8e9;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .new-week {
            margin-top: 20px;
            display: block;
            text-decoration: none;
            background: #388e3c;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>üåç Weekly Carbon Footprint Report</h2>
        <p>Your total carbon footprint for the week:</p>
        <p class="result"><span id="weeklyTotal">0</span> kg CO2</p>

        <p id="feedback"></p>

        <div class="tips">
            <h3>üå± Tips to Reduce Your Carbon Footprint:</h3>
            <ul id="carbonTips"></ul>
        </div>

        <a href="monday.html" class="new-week">Start a New Week</a>
    </div>

    <script>
        function calculateWeeklyTotal() {
            let total = 0;
            let dailyFootprints = [];

            for (let day of ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"]) {
                let dayValue = localStorage.getItem(day + "_footprint");
                if (dayValue) {
                    let footprint = parseFloat(dayValue);
                    dailyFootprints.push(footprint);
                    total += footprint;
                }
            }

            document.getElementById("weeklyTotal").innerText = total.toFixed(2);

            // Compare with the average footprint (100 kg CO2 per week)
            let feedback = document.getElementById("feedback");
            if (total < 100) {
                feedback.innerHTML = "‚úÖ <strong>Great job!</strong> Your carbon footprint is lower than the average person.";
            } else {
                feedback.innerHTML = "‚ö†Ô∏è <strong>Try reducing emissions!</strong> Your footprint is higher than average.";
            }

            generateReductionTips(dailyFootprints);
        }

        function generateReductionTips(dailyFootprints) {
            let tips = [];

            if (dailyFootprints.some(value => value > 15)) {
                tips.push("üöó Use public transport, carpool, or bike for short trips.");
            }
            if (dailyFootprints.some(value => value > 20)) {
                tips.push("üí° Reduce electricity use with LED bulbs and energy-saving habits.");
            }
            if (dailyFootprints.some(value => value > 10)) {
                tips.push("ü•§ Avoid single-use plastics by carrying reusable bottles and bags.");
            }
            if (dailyFootprints.some(value => value > 25)) {
                tips.push("ü•¶ Reduce meat consumption and try plant-based meals.");
            }
            if (tips.length === 0) {
                tips.push("üåç Keep up the good work! Continue making sustainable choices.");
            }

            document.getElementById("carbonTips").innerHTML = tips.map(tip => `<li>${tip}</li>`).join("");
        }

        window.onload = calculateWeeklyTotal;
    </script>

</body>
</html>
